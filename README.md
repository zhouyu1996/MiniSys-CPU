<h1 align='center'>2020秋硬件综合设计</h1>

<h5 align='center'> 周  宇 </h5> 

## 引言

:slightly_smiling_face:该文档是重庆大学计算机学院2020年秋季硬件综合设计课程指南 

- 开源地址：[重庆大学计算机学院2020年秋季硬件综合设计课程指南](https://github.com/zhouyu1996/MiniSys-CPU)

- 版本管理：`git`

- 更新：

  |  更新时间  |                           更新内容                           | 备注 |
  | :--------: | :----------------------------------------------------------: | :--: |
  | 2020/12/01 | 1.重新梳理了四个选题的内容，结合以往的资料对每一个选题给出了一个简单的实践路线 |      |
  | 2020/12/03 |      1.收集并整理了可能涉及到文件链接，以百度云形式给出      |      |
  | 2020/12/05 |   1.暂时完成了整个文档的内容<br />2.部分内容做出了一些调整   |      |


:slightly_smiling_face:下面简单介绍本次实验的任务、可采用的方法和实践流程。

:slightly_smiling_face:考虑到本学期的任务安排和我之前本科的安排有较大的出入，建议大家仔细阅读sakai平台和群里设计要求文件。

:slightly_smiling_face:本仓库会简单介绍一些任务和实验指南，大家可以作为参考资料。

:slightly_smiling_face:客观来说，本门课程设计到仿真、汇编和硬件知识，有一定的难度。（其实算是本科最难的实验了）整个课程设计需要大家努力完成，底层的东西也需要大家自己去探索，很多问题问我我也很难直接给出合理的解答。但是也欢迎大家在思考、探索后来和我进行讨论，当然我不能保证一定能够解答。毕竟现在我的研究工作是调参侠，对硬件的认知也仅是本科期间学习的知识。

## 写在开始

:relaxed:作为过来人，​我知道大家对成绩会很看重。但是课程评分需要有层次有差异，我会尽量客观公正，也请大家认真完成课设。如下事项请大家注意：

- 课程设计期间允许大家进行沟通、讨论和商量，但这不表达大家可以共享一份一样的code。如果发现多个组是同一份code，那么每个组的成绩都至多为合格。先完成的同学也请保管好自己的code，如果最后因为多份一模一样的code出现的问题责任自负。
- 任务书中的基本要求达到不一定能保证拿的理论最高分，最终的评分和大家整体的完成情况、报告以及最后的检测均有关系。当然，也鼓励大家对任务书的基本任务做拓展，如任务一拓展方向可以是定制上百种彩灯，且有多个控制逻辑。
- 理论上，选题一在提供的文件基础上仅需要使用汇编指令完成。其他三个选题均需要Verilog编码。MIPS汇编仿真平台可以使用提供的MiniSys，也可以使用MARS，大家自行选择。
- 第四个题目在课程要求中并没有一个相应的任务报告书，我们将这个任务和卓越班的任务书进行对应，在考核要求上略微改变。推荐做第四个，因为有机组的基础，且评分也较友好，但这不限制，大家自己权衡。
- 大家可以根据我的建议和提供的资料完成实验，也可以收集资料自行完成，只要设计合理完成任务要求，且能够现场演示即可。

## 实验选题和内容分析

本次课程有如下四个选题，但是和给定的任务书略有出入，下面根据我的理解重新梳理一下（仅适用于Prof.feng班级）。有出入的地方依学院发布的课程规范为准：

| 序号 |                实验名                 |                           实验内容                           | 最高成绩 |                             备注                             |
| :--: | :-----------------------------------: | :----------------------------------------------------------: | :------: | :----------------------------------------------------------: |
|  1   |       **MiniSys CPU设计与应用**       | 详见任务书一：<br />1. 熟悉MiniSys CPU对应的vivado项目和其支持的汇编指令 <br />2. 根据MiniSys CPU提供的汇编指令完成任务书上的三个功能中的一个，也可自己做拓展<br />3. 要求有汇编源码asm，编译的coe文件，并且能上板实验 |   良好   | 1. 会提供基于MiniSys CPU的仿真平台及使用指南<br />2. 该CPU对应的基础vivado工程 |
|  2   |       **Ex-MiniSys设计与应用**        | 详见任务书二：<br />1. 熟悉MiniSys CPU对应的vivado项目和其支持的汇编指令<br />2. 在MiniSys CPU基础上添加浮点运算部件<br />3. 根据MiniSys CPU提供的汇编指令完成浮点运算的功能<br />3. 要求有带浮点运算的Verilog源码，功能汇编源码，编译的coe文件，并且能上板实验 |   优秀   | 1. 会提供基于MiniSys CPU的仿真平台及使用指南<br />2. 该CPU对应的基础vivado工程 |
|  3   |     **多周期MiniSys的设计与应用**     | 详见任务书三：<br />1. 熟悉MiniSys CPU对应的vivado项目和其支持的汇编指令<br />2. 在MiniSys CPU基础上实现一个多周期的数据通路<br />3. 完成三个功能中一个<br />4. 要求有多周期CPU的Verilog源码，功能汇编源码，编译的coe文件，并且能上板实验 |   优秀   | 1. 会提供基于MiniSys CPU的仿真平台及使用指南<br />2. 该CPU对应的基础vivado工程 |
|  4   | **MiniSys处理器的流水线化设计与应用** | 为了方便量化评分，我们班级该任务对应至最后一份任务书《MIPS SOC设计与性能优化》：<br />1. 将《组成原理》实现的简易五级流水线CPU，扩展为57条指令，并实现异常处理模块。<br />2. 拓展功能：包括但不限于增加Cache，流水线优化和解决部分数据冒险问题。<br />4. 要求有Verilog源码，可以上板验证指令集。对拓展功能能够进行展示。 |   优秀   |               1.需要在自己机组的实验基础上完成               |

## 链接

MiniSys CPU对应的相关文件（百度云盘）：

- [仿真平台](https://pan.baidu.com/s/1u_Bh-999_ZOF6EmFtnGETw)    key：4hn7
- [仿真平台使用指南](https://pan.baidu.com/s/1vsDDCLrO6iUR9KUM8_g9ug) key：1psv
- [MiniSys CPU基础版本的vivado项目](https://pan.baidu.com/s/1CMEhENK5E6Wl5MkDEv1y4Q) key：2az7

:relaxed:限于精力，我只整理了这些内容，大家可以自行挖掘其他的仿真平台或是其他的实践路线。

## 致谢

- 黄旺辉同学：感谢黄旺辉同学提供的md文件模板。
- 朱绍铨师兄：感谢朱师兄提供了去年他在助教期间的一些经验和建议。
- 其他的助教和同学：准备课程设计期间，结合自己本科本课程资料以及计院同学和助教才得以梳理完成课设任务，感谢！

## 写在最后

由于目前我在A区，加上自己的硬件知识确实也很匮乏，可能对大家的指导也会很有限，但是我会尽力和大家一起完成本次硬综设计。做的不好的地方，还望大家多多担待！:relaxed::relaxed::relaxed: